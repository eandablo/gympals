{% extends "base.html" %}
{% load static %}
{% block content %}
<!-- if user is logged in-->
{% if user.is_authenticated %}
<!-- if user is staff the welcome will be here -->
{% if user.is_staff %}
    <h2>Your are staff member</h2>
<!-- if user is not staff welcome is here -->
{% else %}
<div class="row mb-4 mt-4">
    <div class="col-md-6 offset-md-3 mt-2 center-text">
        <!-- this will display if user has already provided info once -->
        {% if info_exists %}
            <h2> Hi {{ trainee.name }}!</h2>
            <h3>This Is Your Dashboard</h3>
            <div class="container-fluid mt-5">
                <div class="row">
                    <div class="col-md-6 mt-4">
                        <div class="card">
                            <img src="{% static 'images/form.jpg' %}" class="card-img-top" alt="information form">
                            <div class="card-body">
                              <h5 class="card-title">Update Info</h5>
                              <p class="card-text">Please update your info regularly</p>
                              <a class="btn btn btn-primary btn-lg" href="{% url 'info_update' trainee.name %}">Go to form</a>
                            </div>
                          </div>
                    </div>
                    <div class="col-md-6 mt-4">
                        <div class="card">
                            <img src="{% static 'images/dumbells.jpg' %}" class="card-img-top" alt="dumbells in rack">
                            <div class="card-body">
                              <h5 class="card-title">Workout Plan</h5>
                              <p class="card-text">Follow your workout plan as close as possible</p>
                              <a class="btn btn btn-primary btn-lg" href="{% url 'workout_plan' trainee.name %}">See Plan</a>
                            </div>
                          </div>
                        
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6 mt-4">
                        <div class="card">
                            <img src="{% static 'images/diet.jpg' %}" class="card-img-top" alt="dish of yogurt and granola">
                            <div class="card-body">
                              <h5 class="card-title">Diet Logs</h5>
                              <p class="card-text">Track your calories to complement workout plan</p>
                              <a class="btn btn btn-primary btn-lg" href="{% url 'dlogs_view' trainee.name %}">See Logs</a>
                            </div>
                          </div>
                    </div>
                    <div class="col-md-6 mt-4">
                        <div class="card">
                            <img src="{% static 'images/logs.jpg' %}" class="card-img-top" alt="data graph">
                            <div class="card-body">
                              <h5 class="card-title">Workout Logs</h5>
                              <p class="card-text">See your workout progress in time</p>
                              <a class="btn btn btn-primary btn-lg" href="{% url 'wlogs_view' trainee.name %}">See Logs</a>
                            </div>
                          </div>
                        
                    </div>
                </div>
            </div>
        <!-- if user has just joined, he will be prompted to provide info -->
        {% else %}
            <form method="POST">
                {{ info_form.as_p }}
                {% csrf_token %}
                <button type="submit">Submit</button>
            </form>
        {% endif %}
    </div>
</div>

{% endif %}
<!-- if user is not logged in -->
{% else %}
<div id ="welcome-container" class="container">
    <div class="row">
        <div class="col-md-6 offset-md-3 center-text">
            <h3>GYMPAL Acts As Your Personal Trainer</h3>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4 center-text">
            <h4>Workout Plans  <i class="fa-solid fa-dumbbell"></i></h4>
            <div>
                <p>Receive personalised workout plans to achieve your goal</p>
            </div>
        </div>
        <div class="col-md-4 center-text">
            <h4>Diet advice <i class="fa-solid fa-utensils"></i></h4>
            <div>
                <p>Receive personalised workout plans to achieve your goal</p>
            </div>
        </div>
        <div class="col-md-4 center-text">
            <h4>Track your progress <i class="fa-regular fa-file-lines"></i></h4>
            <div>
                <p>Receive personalised workout plans to achieve your goal</p>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6 offset-md-3 center-text">
            <h3>Start A Session</h3>
        </div>
    </div>
    <div class="row">
        <div class="col-md-6 center-text">
            <div>
                <p>If you are already registererd for our service</p>
            </div>
            <div>
                <p class="mt-2 mb-2"><a href="{% url 'account_login' %}" class="btn btn btn-primary"
                    href="{% url 'account_login' %}">Login</a>
            </p>
            </div>
        </div>

        <div class="col-md-6 center-text">
            <div>
                <p>If you want to start receiving GYMPAL benefits</p>
            </div>            
            <div>
                <p class="mt-2 mb-2"><a href="{% url 'account_signup' %}" class="btn btn btn-primary" href="{% url 'account_login' %}">Join Us</a></p> 
            </div>
        </div>
    </div>
</div>
{% endif %}

{% endblock %}