{% extends 'base.html' %}
{% block content %}

<div class="container mb-4">
    {% if log_type == 'diet' %}
    <div class="row mt-4 mb-4">
        <div class="col-md-8 offset-md-2 bg-primary center-text white-medium-text">
            <h3>LOG DIET ENTRY</h3>
        </div>
    </div>
    <div class="row">
        <div class="col">
            <form action="{% url 'diet_update' name=name %}" method="POST">
                {% csrf_token %}
                <label for="diet_input">Please enter consumed calories</label>
                <input id="diet_input" name="diet_input" type="text">
                <button type="submit" class="btn btn-primary">Submit</button>
            </form>
        </div>
    </div>
    {% endif %}
    <div class="row mt-4 mb-4">
        <div class="col-md-8 offset-md-2 bg-primary center-text white-medium-text">
            <h2>YOUR {{ log_type|upper }} LOGS</h2>
        </div>
    </div>
    <div class="row mb-4 mt-4">
        <div class="col-md-6 offset-md-3 center-text border">
            <div class="row">
                <div class="col center-text">
                    <h3>Narrow Your Search Dates</h3>
                </div>
            </div>
            {% if log_type == "workout" %}
            <form method="post" action="{% url 'wlogs_view' name=name page=1 %}">
            {% else %}
            <form method="post" action="{% url 'dlogs_view' name=name page=1 %}">
            {% endif %}
                <div class="row mt-3 mb-3">
                    <div class="col-md-6 offset-md-3">
                        <label for="start-date">Start Date</label>
                        <input type="date" id="start-date" name="start_date">
                    </div>
                </div>
                <div class="row mt-3 mb-3">
                    <div class="col-md-6 offset-md-3">
                        <label for="start-date">End Date</label>
                        <input type="date" id="end-date" name="end_date">
                    </div>
                </div>
                <div class="row mt-3 mb-3">
                    <div class="col-md-6 offset-md-3">
                        <button class="btn btn-primary" type="submit">Search</button>
                    </div>
                </div>
                {% csrf_token %}
            </form>    
        </div>
    </div>
    {% if log_type == "workout" %}
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Date</th>
                <th scope="col">Muscle Group</th>
                <th scope="col">Exercise</th>
                <th scope="col">Sets</th>
                <th scope="col">Reps</th>
            </tr>
        </thead>
        <tbody>
            {% for log in logs %}
            <tr>
                <th scope="col">{{ log.logged_date }}</th>
                <th scope="col">{{ log.excercise.muscle_group }}</th>
                <th scope="col">{{ log.excercise.name }}</th>
                <th scope="col">{{ log.sets_actual }}</th>
                <th scope="col">{{ log.reps_actual }}</th>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <table class="table">
        <thead>
            <tr>
                <th scope="col">Date</th>
                <th scope="col">Registered</th>
                <th scope="col">Suggested</th>
            </tr>
        </thead>
        <tbody>
            {% for log in logs %}
            <tr>
                <th scope="col">{{ log.created_date }}</th>
                <th scope="col">{{ log.calories }}</th>
                <th scope="col">{{ log.calories_ideal }}</th>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% endif %}
    <div class="row">
        <div class="col-md-8 offset-md-2">
            {% if logs.has_other_pages %}
            <nav aria-label="Pagination Nav">
                <ul class="pagination">
                    {% for i in logs.paginator.page_range %}
                    <li class="page-item"><a class="page-link" href="{% url 'wlogs_view' name=name page=i %}">{{ i }}</a></li>
                    {% endfor %}
                </ul>
            </nav>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}